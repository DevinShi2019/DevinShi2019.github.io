<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DevinShi2019</title>
  
  <subtitle> </subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://devinshi2019.github.io/"/>
  <updated>2021-05-27T15:02:31.379Z</updated>
  <id>http://devinshi2019.github.io/</id>
  
  <author>
    <name>Devin Shi</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo博客系列-4：使用Github Action将语雀文档同步到blog</title>
    <link href="http://devinshi2019.github.io/2021/05/27/yuque/Hexo%E5%8D%9A%E5%AE%A2%E7%B3%BB%E5%88%97-4%EF%BC%9A%E4%BD%BF%E7%94%A8Github%20Action%E5%B0%86%E8%AF%AD%E9%9B%80%E6%96%87%E6%A1%A3%E5%90%8C%E6%AD%A5%E5%88%B0blog/"/>
    <id>http://devinshi2019.github.io/2021/05/27/yuque/Hexo%E5%8D%9A%E5%AE%A2%E7%B3%BB%E5%88%97-4%EF%BC%9A%E4%BD%BF%E7%94%A8Github%20Action%E5%B0%86%E8%AF%AD%E9%9B%80%E6%96%87%E6%A1%A3%E5%90%8C%E6%AD%A5%E5%88%B0blog/</id>
    <published>2021-05-27T14:01:00.000Z</published>
    <updated>2021-05-27T15:02:31.379Z</updated>
    
    <content type="html"><![CDATA[<p><a name="96c75b9e"></a></p><h2 id="具体流程"><a class="markdownIt-Anchor" href="#具体流程"></a> 具体流程</h2><ul><li>Hexo 博客搭建好，将源码上传到 Github</li><li>在 Github 中开启 Github Actions 服务，配置 yaml 格式的deploy脚本</li><li>编写 serverless函数 ，测试可以触发 Github Actions，获取触发地址</li><li>在语雀中创建知识库并发布一篇文章，必须发布过文章，因为 yuque-hexo 会删除 _posts 文件夹</li><li>配置语雀的 webhook，使其可调用 serverless 函数</li><li>触发 Github Actions 实现 Hexo 的自动部署，生成静态文件并发布</li></ul><p><a name="7b4a7f4d"></a></p><h2 id="使用github-hexo"><a class="markdownIt-Anchor" href="#使用github-hexo"></a> 使用Github + Hexo</h2><p><a href="https://blog.shiyutian.com/2019/11/26/yuque/Hexo%E5%8D%9A%E5%AE%A2%E7%B3%BB%E5%88%97-1%EF%BC%9A%E6%90%AD%E5%BB%BAGithubPages%20+%20Hexo%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener">Hexo博客系列-1：搭建GithubPages + Hexo博客</a><br /><a name="ZGa3t"></a></p><h2 id=""><a class="markdownIt-Anchor" href="#"></a> </h2><p><a name="O6Z8G"></a></p><h2 id="在github中使用-github-actions"><a class="markdownIt-Anchor" href="#在github中使用-github-actions"></a> 在Github中使用 Github Actions</h2><ol><li>在Hexo源码仓库的页面选择<code>Actions</code> -&gt; <code>Set up a workflow yourself</code>，进行网页编写</li><li>在本地环境根目录创建<code>.github/workflows</code>文件夹，里面放写好的 <code>yaml</code> 脚本</li></ol><p><br />具体脚本如下:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"># workflow name</span><br><span class="line">name: Deploy To Github Pages</span><br><span class="line"></span><br><span class="line"># 当有 push 到仓库和外部触发的时候就运行</span><br><span class="line">on: [push, workflow_dispatch]</span><br><span class="line"></span><br><span class="line"># YUQUE_TOKEN</span><br><span class="line"># GITHUB_PERSONAL_API_TOKEN</span><br><span class="line">jobs:</span><br><span class="line">  deploy: </span><br><span class="line">    name: Deploy Hexo Public To Pages</span><br><span class="line">    runs-on: ubuntu-latest </span><br><span class="line">    env:</span><br><span class="line">      TZ: Asia/Shanghai    </span><br><span class="line">        </span><br><span class="line">    steps:</span><br><span class="line">    # check it to your workflow can access it</span><br><span class="line">    # from: https://github.com/actions/checkout</span><br><span class="line">    - name: Checkout Repository master branch</span><br><span class="line">      uses: actions/checkout@master </span><br><span class="line">      </span><br><span class="line">    # from: https://github.com/actions/setup-node  </span><br><span class="line">    - name: Setup Node.js <span class="number">10.</span>x </span><br><span class="line">      uses: actions/setup-node@master</span><br><span class="line">      <span class="keyword">with</span>:</span><br><span class="line">        node-version: <span class="string">"10.x"</span></span><br><span class="line">    </span><br><span class="line">    # from https://github.com/x-cold/yuque-hexo</span><br><span class="line">    - name: Setup Hexo Dependencies and Generate Public Files</span><br><span class="line">      env:</span><br><span class="line">        YUQUE_TOKEN: $&#123;&#123; secrets.YUQUE_TOKEN &#125;&#125;</span><br><span class="line">      run: |</span><br><span class="line">        npm install hexo-cli -g</span><br><span class="line">        npm install yuque-hexo -g</span><br><span class="line">        npm install</span><br><span class="line">        npm run start</span><br><span class="line">        </span><br><span class="line">    # from https://github.com/peaceiris/actions-gh-pages    </span><br><span class="line">    - name: Deploy</span><br><span class="line">      uses: peaceiris/actions-gh-pages@v3</span><br><span class="line">      <span class="keyword">with</span>:</span><br><span class="line">        personal_token: $&#123;&#123; secrets.GITHUB_PERSONAL_API_TOKEN &#125;&#125;</span><br><span class="line">        external_repository: 用户名/仓库</span><br><span class="line">        publish_branch: master</span><br><span class="line">        publish_dir: ./public</span><br><span class="line">        commit_message: $&#123;&#123; github.event.head_commit.message &#125;&#125;</span><br></pre></td></tr></table></figure><p>​<br /><br /><a name="yXwiF"></a></p><h3 id="yuque_token-配置"><a class="markdownIt-Anchor" href="#yuque_token-配置"></a> YUQUE_TOKEN 配置</h3><p>在语雀中新建Token，并添加此Token到Hexo源码仓库<code>Setting</code> -&gt; <code>Secrets</code>中添加变量key为 YUQUE_TOKEN ，值为实际的token值<br /><img src="https://cdn.nlark.com/yuque/0/2021/png/264294/1622125094633-dd8763b2-0ce2-4dd7-ab4a-fda525df4490.png#clientId=u19d8ecd1-3c6d-4&amp;from=paste&amp;height=1035&amp;id=u46b27b52&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1035&amp;originWidth=1907&amp;originalType=binary&amp;size=113842&amp;status=done&amp;style=none&amp;taskId=u3f98407c-62cc-401e-b331-12cb4289d3b&amp;width=1907" alt="image.png" /><br /><img src="https://cdn.nlark.com/yuque/0/2021/png/264294/1622125180151-963a2640-c4ad-4de7-bd58-09bee6abcb74.png#clientId=u3bc1a531-732f-4&amp;from=paste&amp;height=813&amp;id=u21ce58c5&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=813&amp;originWidth=1403&amp;originalType=binary&amp;size=123966&amp;status=done&amp;style=none&amp;taskId=u11477364-41c6-4eb0-a906-86cbe3aab66&amp;width=1403" alt="image.png" /><br /></p><p><a name="qHGMZ"></a></p><h3 id="github_personal_api_token-配置"><a class="markdownIt-Anchor" href="#github_personal_api_token-配置"></a> GITHUB_PERSONAL_API_TOKEN 配置</h3><p>Github同理，点击 GitHub 用户设置页面 最下方的 Developer setting ，然后选择 Personal access tokens 来生成一个 token。然后添加到<code>Secrets</code>中即可<br /><img src="https://cdn.nlark.com/yuque/0/2021/png/264294/1622125359200-f21c50d1-8ee7-4949-ab0b-734cc61f016b.png#clientId=u3bc1a531-732f-4&amp;from=paste&amp;height=566&amp;id=u57031de8&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=566&amp;originWidth=1200&amp;originalType=binary&amp;size=302931&amp;status=done&amp;style=none&amp;taskId=u005a8200-d0fb-4619-a517-2de4959676b&amp;width=1200" alt="image.png" /><br /><br /><br />​<br /><br /><a name="cl9vj"></a></p><h2 id="配置腾讯云函数"><a class="markdownIt-Anchor" href="#配置腾讯云函数"></a> 配置腾讯云函数</h2><ol><li>配置腾讯云函数登录腾讯云，搜索云函数，创建此处以Python2.7为例</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2021/png/264294/1622125492149-dfafba12-dc73-40f1-bccc-b8fe57fcca0e.png#clientId=u3bc1a531-732f-4&amp;from=paste&amp;height=482&amp;id=ud8fc2900&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=482&amp;originWidth=889&amp;originalType=binary&amp;size=31720&amp;status=done&amp;style=none&amp;taskId=u5cb44a9d-c445-4986-8b0d-d6bcb4fc74b&amp;width=889" alt="image.png" /><br /><img src="https://cdn.nlark.com/yuque/0/2021/png/264294/1622125554271-4cb247af-ea99-42f2-85e5-9c243453e126.png#clientId=u3bc1a531-732f-4&amp;from=paste&amp;height=873&amp;id=u9a55ea0d&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=873&amp;originWidth=1462&amp;originalType=binary&amp;size=117834&amp;status=done&amp;style=none&amp;taskId=uba62086e-90ae-4220-9ba0-4b9a869d865&amp;width=1462" alt="image.png" /><br />详细代码如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main_handler</span><span class="params">(event, context)</span>:</span></span><br><span class="line">    r = requests.post(<span class="string">"https://api.github.com/repos/$&#123;&#123;GithubUserName&#125;&#125;/$&#123;&#123;GithubRepo&#125;&#125;/actions/workflows/$&#123;&#123;workflowId&#125;&#125;/dispatches"</span>,</span><br><span class="line">    json = &#123;<span class="string">"ref"</span>:<span class="string">"master"</span>&#125;,</span><br><span class="line">    headers = &#123;<span class="string">"User-Agent"</span>:<span class="string">'curl/7.52.1'</span>,</span><br><span class="line">              <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</span><br><span class="line">              <span class="string">'Accept'</span>: <span class="string">'application/vnd.github.v3+json'</span>,</span><br><span class="line">              <span class="string">'Authorization'</span>: <span class="string">'token $&#123;&#123;替换为你的githubToken&#125;&#125;'</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> r.status_code == <span class="number">204</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"This's OK!"</span> </span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> r.status_code</span><br></pre></td></tr></table></figure><blockquote><p>如果不知道具体的workflowId，可以在调用此接口获取</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">url:   https://api.github.com/repos/$&#123;&#123;GithubUserName&#125;&#125;/$&#123;&#123;GithubRepo&#125;&#125;/actions/workflows</span><br><span class="line">method:  get</span><br><span class="line">headers:  &#123;<span class="string">"User-Agent"</span>:<span class="string">'curl/7.52.1'</span>,              </span><br><span class="line">   <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</span><br><span class="line">              <span class="string">'Accept'</span>: <span class="string">'application/vnd.github.v3+json'</span>,</span><br><span class="line">              <span class="string">'Authorization'</span>: <span class="string">'token $&#123;&#123;替换为你的githubToken&#125;&#125;'</span>&#125;</span><br></pre></td></tr></table></figure><p><a name="QBUqY"></a></p><h3 id="创建云函数触发器"><a class="markdownIt-Anchor" href="#创建云函数触发器"></a> 创建云函数触发器</h3><p>选择API网关触发即可，生成触发器之后，通过触发器URL直接访问，即可调用云函数<br />​</p><p><img src="https://cdn.nlark.com/yuque/0/2021/png/264294/1622126679142-0142e6cc-fb25-4d65-b4ee-ddd93c9abf77.png#clientId=u3bc1a531-732f-4&amp;from=paste&amp;height=661&amp;id=u9891ed0a&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=661&amp;originWidth=903&amp;originalType=binary&amp;size=38481&amp;status=done&amp;style=none&amp;taskId=u7f60d949-d807-44e7-8b40-95de0cd2f7d&amp;width=903" alt="image.png" /><br /></p><p><a name="nrcH5"></a></p><h2 id="语雀配置"><a class="markdownIt-Anchor" href="#语雀配置"></a> 语雀配置</h2><p>注册，登录创建知识库–&gt;文档知识库–&gt;可见范围为互联网可见<br />工作台–&gt;知识库–&gt;找到新创建的知识库，管理–&gt;设置–&gt;路径进行自定义，后面有用<br /><img src="https://cdn.nlark.com/yuque/0/2021/png/264294/1622126805571-c3811d6e-1e77-4e97-af80-111af8d8c4d1.png#clientId=u3bc1a531-732f-4&amp;from=paste&amp;height=492&amp;id=jIpuX&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=492&amp;originWidth=895&amp;originalType=binary&amp;size=24910&amp;status=done&amp;style=none&amp;taskId=u6f9d471c-97db-484e-9f85-213b5dac859&amp;width=895" alt="image.png" /><br />工作台–&gt;知识库–&gt;找到新创建的知识库，管理–&gt;设置–&gt;开发者–&gt;名称任意。URL为云函数的地址，即上面获取到的访问路径<br /><img src="https://cdn.nlark.com/yuque/0/2021/png/264294/1622126927418-6dc17af1-0339-4d18-990f-c69e73673572.png#clientId=u3bc1a531-732f-4&amp;from=paste&amp;height=789&amp;id=ude09aeb0&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=789&amp;originWidth=1352&amp;originalType=binary&amp;size=82518&amp;status=done&amp;style=none&amp;taskId=u99bf6f88-192f-4086-9280-cdd7c354828&amp;width=1352" alt="image.png" /><br /></p><p><a name="SWZUW"></a></p><h3 id="安装-yuque-hexo"><a class="markdownIt-Anchor" href="#安装-yuque-hexo"></a> 安装 yuque-hexo</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install yuque-hexo --save</span><br></pre></td></tr></table></figure><p>编辑package.json文件，添加以下内容<br />​</p><p>Npm Scripts “start” 和 yuqueConfig，将操作命令合并为一个脚本，只需要执行npm run start即可完成语雀的同步和Hexo的清理和静态文件生成，yueque记得要用最新版本</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"> ...</span><br><span class="line"> </span><br><span class="line">  "scripts": &#123;</span><br><span class="line">    "start": "yuque-hexo clean &amp;&amp; yuque-hexo sync &amp;&amp; hexo clean &amp;&amp; hexo generate",</span><br><span class="line">    "build": "hexo generate",</span><br><span class="line">    "clean": "hexo clean",</span><br><span class="line">    "deploy": "hexo deploy",</span><br><span class="line">    "server": "hexo server"</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line"> ...</span><br><span class="line"> </span><br><span class="line">  "yuqueConfig": &#123;</span><br><span class="line">    "baseUrl": "https://www.yuque.com/api/v2",</span><br><span class="line">    "login": "语雀个人路径",</span><br><span class="line">    "repo": "知识库名称",</span><br><span class="line">    "mdNameFormat": "title",</span><br><span class="line">    "postPath": "source/_posts",</span><br><span class="line">    "onlyPublished": false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/z_johnny/article/details/104629805/" target="_blank" rel="noopener"><br /></a><br /><br /><br />PS: 本文参考<a href="https://www.zhwei.cn/hexo-github-actions-yuque/" target="_blank" rel="noopener">https://www.zhwei.cn/hexo-github-actions-yuque/</a>，对最新的配置做了些优化</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a name=&quot;96c75b9e&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;具体流程&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#具体流程&quot;&gt;&lt;/a&gt; 具体流程&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Hexo 博客搭建好，将源码上传到 Github&lt;/li&gt;
      
    
    </summary>
    
    
      <category term="博客" scheme="http://devinshi2019.github.io/categories/%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo系列" scheme="http://devinshi2019.github.io/tags/Hexo%E7%B3%BB%E5%88%97/"/>
    
      <category term="教程" scheme="http://devinshi2019.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客系列-3：使用主题pure</title>
    <link href="http://devinshi2019.github.io/2019/11/29/yuque/Hexo%E5%8D%9A%E5%AE%A2%E7%B3%BB%E5%88%97-3%EF%BC%9A%E4%BD%BF%E7%94%A8%E4%B8%BB%E9%A2%98pure/"/>
    <id>http://devinshi2019.github.io/2019/11/29/yuque/Hexo%E5%8D%9A%E5%AE%A2%E7%B3%BB%E5%88%97-3%EF%BC%9A%E4%BD%BF%E7%94%A8%E4%B8%BB%E9%A2%98pure/</id>
    <published>2019-11-29T03:20:00.000Z</published>
    <updated>2021-05-27T15:02:31.383Z</updated>
    
    <content type="html"><![CDATA[<p><a name="96c75b9e"></a></p><h2 id="特色"><a class="markdownIt-Anchor" href="#特色"></a> 特色</h2><ul><li>多语言</li><li>第三方评论框（友言、来必力、gitment、gitalk）</li><li>可展示个人豆瓣书单</li><li>可展示个人github托管项目</li><li>可设置支付宝、微信打赏</li></ul><p><a name="7b4a7f4d"></a></p><h2 id="配置说明"><a class="markdownIt-Anchor" href="#配置说明"></a> 配置说明</h2><p>在 Hexo 中有两份主要的配置文件，其名称都是 _config.yml。 其中，一份位于站点根目录下，主要包含 Hexo 本身的配置；另一份位于主题目录下，这份配置由主题作者提供，主要用于配置主题相关的选项。为了描述方便，在以下说明中，将前者称为站点配置文件， 后者称为主题配置文件</p><p><a name="8a540af5"></a></p><h2 id="安装主题"><a class="markdownIt-Anchor" href="#安装主题"></a> 安装主题</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/cofess/hexo-theme-pure.git themes/pure</span><br><span class="line">cd themes/pure</span><br><span class="line">rm -rf .git</span><br></pre></td></tr></table></figure><p><a name="97b68782"></a></p><h2 id=""><a class="markdownIt-Anchor" href="#"></a> </h2><p><a name="9pqlm"></a></p><h2 id="启用pure主题"><a class="markdownIt-Anchor" href="#启用pure主题"></a> 启用pure主题</h2><p>打开站点配置文件，找到theme字段，将其值更改为 pure</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: pure</span><br></pre></td></tr></table></figure><p>到此，主题安装完成。然后启动Hexo服务验证主题是否正确启用。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p><a name="49c24aaf"></a></p><h2 id="安装插件"><a class="markdownIt-Anchor" href="#安装插件"></a> 安装插件</h2><p><a name="d089c58c"></a></p><h3 id="hexo-wordcount"><a class="markdownIt-Anchor" href="#hexo-wordcount"></a> <a href="https://github.com/willin/hexo-wordcount" target="_blank" rel="noopener">hexo-wordcount</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure><p><a name="2150de3c"></a></p><h3 id="hexo-generator-json-content"><a class="markdownIt-Anchor" href="#hexo-generator-json-content"></a> <a href="https://github.com/alexbruno/hexo-generator-json-content" target="_blank" rel="noopener">hexo-generator-json-content</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-json-content --save</span><br></pre></td></tr></table></figure><p><a name="2f5f5c39"></a></p><h3 id="hexo-generator-feed"><a class="markdownIt-Anchor" href="#hexo-generator-feed"></a> <a href="https://github.com/hexojs/hexo-generator-feed" target="_blank" rel="noopener">hexo-generator-feed</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><p><a name="bfcf4864"></a></p><h3 id="hexo-generator-sitemap"><a class="markdownIt-Anchor" href="#hexo-generator-sitemap"></a> <a href="https://github.com/hexojs/hexo-generator-sitemap" target="_blank" rel="noopener">hexo-generator-sitemap</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><p><a name="fb678bab"></a></p><h3 id="hexo-generator-baidu-sitemap"><a class="markdownIt-Anchor" href="#hexo-generator-baidu-sitemap"></a> <a href="https://github.com/coneycode/hexo-generator-baidu-sitemap" target="_blank" rel="noopener">hexo-generator-baidu-sitemap</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><p><a name="5af70028"></a></p><h2 id="主题配置"><a class="markdownIt-Anchor" href="#主题配置"></a> 主题配置</h2><p><a name="fb081add"></a></p><h3 id="设置语言"><a class="markdownIt-Anchor" href="#设置语言"></a> 设置语言</h3><p>打开站点配置文件, 将 language 设置成你所需要的语言。建议明确设置你所需要的语言,可选值对应themes\pure\languages目录下语言文件，简体中文配置如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">language: zh-CN</span><br></pre></td></tr></table></figure><p><a name="a1c76c6e-1"></a></p><h3 id="主题颜色"><a class="markdownIt-Anchor" href="#主题颜色"></a> 主题颜色</h3><p>定制了五套颜色，默认白，黑:theme-black，蓝:theme-blue，绿:theme-green，紫:theme-purple</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> config</span></span><br><span class="line">config:</span><br><span class="line">  skin: # 主题颜色 theme-black theme-blue theme-green theme-purple</span><br></pre></td></tr></table></figure><p><a name="ff36f6db"></a></p><h3 id="导航菜单"><a class="markdownIt-Anchor" href="#导航菜单"></a> 导航菜单</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 导航菜单</span></span><br><span class="line">menu:</span><br><span class="line">  Home: . </span><br><span class="line">  Archives: archives # 归档</span><br><span class="line">  Categories: categories # 分类</span><br><span class="line">  Tags: tags # 标签</span><br><span class="line">  Repository: repository # github repositories</span><br><span class="line">  Books: books     # 书单</span><br><span class="line">  Links: links # 友链</span><br><span class="line">  About: about # 关于</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 导航菜单图标（font awesome）</span></span><br><span class="line">menu_icons:</span><br><span class="line">  enable: true # 是否启用菜单图标</span><br><span class="line">  home: icon-home-fill</span><br><span class="line">  archives: icon-archives-fill</span><br><span class="line">  categories: icon-folder</span><br><span class="line">  tags: icon-tags</span><br><span class="line">  repository: icon-project</span><br><span class="line">  books: icon-book-fill</span><br><span class="line">  links: icon-friendship</span><br><span class="line">  about: icon-cup-fill</span><br></pre></td></tr></table></figure><p><a name="1a02500b"></a></p><h3 id="设置个人信息"><a class="markdownIt-Anchor" href="#设置个人信息"></a> 设置个人信息</h3><blockquote><p>头像在themes\pure\source\images 目录下替换图片即可，捐献的二维码同理。</p><p>个人信息大部分都在 主题配置文件 中设置</p></blockquote><p><a name="e5f71fc3"></a></p><h3 id="搜索"><a class="markdownIt-Anchor" href="#搜索"></a> 搜索</h3><p>主题内置三种站内搜索方式：insight、swiftype、baidu</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Search</span></span><br><span class="line">search:</span><br><span class="line">  insight: true # you need to install `hexo-generator-json-content` before using Insight Search</span><br><span class="line">  swiftype: # enter swiftype install key here</span><br><span class="line">  baidu: false # you need to disable other search engines to use Baidu search</span><br></pre></td></tr></table></figure><p><a name="c31f48f8"></a></p><h3 id="分享"><a class="markdownIt-Anchor" href="#分享"></a> 分享</h3><p>支持<code>weibo,qq,qzone,wechat,tencent,douban,diandian,facebook,twitter,google,linkedin</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Share</span><br><span class="line"># weibo,qq,qzone,wechat,tencent,douban,diandian,facebook,twitter,google,linkedin</span><br><span class="line">share:</span><br><span class="line">  enable: true  # 是否启用分享</span><br><span class="line">  sites: weibo,qq,wechat,facebook,twitter  # PC端显示的分享图标</span><br><span class="line">  mobile_sites: weibo,qq,qzone  # 移动端显示的分享图标</span><br></pre></td></tr></table></figure><p><a name="55374d7b"></a></p><h3 id="评论"><a class="markdownIt-Anchor" href="#评论"></a> 评论</h3><p>主题集成了<a href="https://disqus.com/" target="_blank" rel="noopener">disqus</a>、<a href="http://www.uyan.cc/" target="_blank" rel="noopener">友言</a>、<a href="https://livere.com/" target="_blank" rel="noopener">来必力</a>、<a href="https://github.com/imsun/gitment" target="_blank" rel="noopener">gitment</a>、<a href="https://github.com/gitalk/gitalk" target="_blank" rel="noopener">gitalk</a>、<a href="https://valine.js.org" target="_blank" rel="noopener">valine</a>评论系统，选择其中一种即可<br />本文中选择valine主题，简洁大方</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">comment:</span><br><span class="line">  type: valine  # 启用哪种评论系统</span><br><span class="line">  valine: # Valine. https://valine.js.org</span><br><span class="line">    appid:   # your leancloud application appid</span><br><span class="line">    appkey:  # your leancloud application appkey</span><br><span class="line">    notify: false # mail notifier , https://github.com/xCss/Valine/wiki</span><br><span class="line">    verify: false # Verification code</span><br><span class="line">    placeholder: 每一份发言都值得被记录 # comment box placeholder</span><br><span class="line">    avatar: mm # gravatar style</span><br><span class="line">    meta: nick,mail,link # custom comment header</span><br><span class="line">    pageSize: 10 # pagination size</span><br><span class="line">    visitor: false # Article reading statistic https://valine.js.org/visitor.html</span><br></pre></td></tr></table></figure><p><a name="25619463"></a></p><h3 id="文章浏览量统计"><a class="markdownIt-Anchor" href="#文章浏览量统计"></a> 文章浏览量统计</h3><p>主题内置了不蒜子和leancloud来统计文章浏览量，启用其中之一即可，注意leancloud需要到其官网申请APP ID 和APP Key。</p><p>比如，启用不蒜子来统计文章浏览量，在主题配置文件中把busuanzi设置为true即可：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pv:</span><br><span class="line">  busuanzi:</span><br><span class="line">    enable: true  # 不蒜子统计</span><br></pre></td></tr></table></figure><p>如果不需要第三方来统计浏览量，只需将相应设置改为false即可（设置为false后不会加载第三方JS脚本）</p><p><a name="7056920d"></a></p><h3 id="github-respostory"><a class="markdownIt-Anchor" href="#github-respostory"></a> Github respostory</h3><p>复制<code>theme/pure/_source/</code> 目录下<code>repository</code>文件夹到<code>blog path/source/</code> 目录下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Github</span><br><span class="line">github: </span><br><span class="line">  username: ***  # github username</span><br></pre></td></tr></table></figure><p><a name="42cc34aa"></a></p><h3 id="豆瓣书单"><a class="markdownIt-Anchor" href="#豆瓣书单"></a> 豆瓣书单</h3><p>复制<code>theme/pure/_source/</code> 目录下<code>books</code>文件夹到<code>blog path/source/</code> 目录下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># douban 豆瓣书单</span><br><span class="line">douban:</span><br><span class="line">  user: *** # 豆瓣用户名</span><br><span class="line">  start: 0 # 从哪一条记录开始</span><br><span class="line">  count: 100 # 获取豆瓣书单数据条数</span><br></pre></td></tr></table></figure><p><a name="844eea1b"></a></p><h3 id="友情链接"><a class="markdownIt-Anchor" href="#友情链接"></a> 友情链接</h3><p>复制<code>theme/pure/_source/</code> 目录下<code>links</code>文件夹到<code>blog path/source/</code> 目录下</p><p>在 hexo 目录下的 source 文件夹内创建一个名为 _data（禁止改名）的文件夹。</p><p>然后在文件内创建一个名为 links.yml 的文件,在其中添加相关数据即可。</p><p>单个友情链接的格式为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Name:</span><br><span class="line">    link: http://example.com</span><br><span class="line">    avatar: http://example.com/avatar.png</span><br><span class="line">    desc: &quot;这是一个描述&quot;</span><br></pre></td></tr></table></figure><p>添加多个友情链接，我们只需要根据上面的格式重复填写即可。</p><p>. 将 Name 改为友情链接的名字，例如 Cofess。</p><p>. <a href="http://example.com" target="_blank" rel="noopener">http://example.com</a> 为友情链接的地址。</p><p>. <a href="http://example.com/avatar.png" target="_blank" rel="noopener">http://example.com/avatar.png</a> 为友情链接的头像。</p><p>. 这是一个描述 为友情链接描述。</p><p><a name="b98a814f"></a></p><h3 id="文章索引目录"><a class="markdownIt-Anchor" href="#文章索引目录"></a> 文章索引目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">title: 文章标题</span><br><span class="line">categories:</span><br><span class="line">  - 文章分类</span><br><span class="line">tags:</span><br><span class="line">  - 文章标签</span><br><span class="line">toc: true # 是否启用内容索引</span><br></pre></td></tr></table></figure><p><a name="30c78286"></a></p><h3 id="sidebar侧边栏"><a class="markdownIt-Anchor" href="#sidebar侧边栏"></a> sidebar侧边栏</h3><p>文章侧边栏默认为开启状态，如果某篇文章不想开启侧边栏，在文章开头配置加入“sidebar: none”即可：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">title: 文章标题</span><br><span class="line">categories:</span><br><span class="line">  - 文章分类</span><br><span class="line">tags:</span><br><span class="line">  - 文章标签</span><br><span class="line">sidebar: none # 是否启用sidebar侧边栏，none：不启用</span><br></pre></td></tr></table></figure><p><a name="918a1f1e"></a></p><h2 id="博客优化"><a class="markdownIt-Anchor" href="#博客优化"></a> 博客优化</h2><p><a name="b0837ae3"></a></p><h3 id="hexo-neat"><a class="markdownIt-Anchor" href="#hexo-neat"></a> <a href="https://github.com/rozbo/hexo-neat" target="_blank" rel="noopener">hexo-neat</a></h3><blockquote><p>auto Minify html、js、css and make it neat</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-neat --save</span><br></pre></td></tr></table></figure><p>在博客配置文件<code>_config.yml</code>中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># hexo-neat</span><br><span class="line">neat_enable: true</span><br><span class="line">neat_html:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:  </span><br><span class="line">neat_css:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - &apos;*.min.css&apos;</span><br><span class="line">neat_js:</span><br><span class="line">  enable: true</span><br><span class="line">  mangle: true</span><br><span class="line">  output:</span><br><span class="line">  compress:</span><br><span class="line">  exclude:</span><br><span class="line">    - &apos;*.min.js&apos;</span><br></pre></td></tr></table></figure><p><a name="25ead6c0"></a></p><h3 id="hexo-baidu-url-submit"><a class="markdownIt-Anchor" href="#hexo-baidu-url-submit"></a> <a href="https://github.com/huiwang/hexo-baidu-url-submit" target="_blank" rel="noopener">hexo-baidu-url-submit</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></table></figure><p><a name="25c7ba4a"></a></p><h3 id="hexo-translate-title"><a class="markdownIt-Anchor" href="#hexo-translate-title"></a> <a href="https://github.com/cometlj/hexo-translate-title" target="_blank" rel="noopener">hexo-translate-title</a></h3><blockquote><p>使用Google翻译，百度翻译和有道翻译将Hexo中的汉字标题转成英文标题</p></blockquote><p>安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-translate-title --save</span><br></pre></td></tr></table></figure><p>在博客配置文件<code>_config.yml</code>中添加</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">translate_title:</span></span><br><span class="line">  <span class="attr">translate_way:</span> <span class="string">google</span>    <span class="comment">#google | baidu | youdao</span></span><br><span class="line">  <span class="attr">youdao_api_key:</span> <span class="string">XXX</span></span><br><span class="line">  <span class="attr">youdao_keyfrom:</span> <span class="string">XXX</span></span><br><span class="line">  <span class="attr">is_need_proxy:</span> <span class="literal">true</span>     <span class="comment">#true | false</span></span><br><span class="line">  <span class="attr">proxy_url:</span> <span class="string">http://localhost:8123</span></span><br></pre></td></tr></table></figure><p><strong>注意</strong>：判断是否需要配置google本地代理，因为我在本地是开启时才能访问google翻译的，如果没有被墙，请将<code>_config.yml</code> 下的<code>is_need_proxy: true</code>改为false。如果设置为true,请设置本地代理地址</p><p><a name="3b2fe55d"></a></p><h2 id="数学公式"><a class="markdownIt-Anchor" href="#数学公式"></a> 数学公式</h2><blockquote><p>Hexo默认使用&quot;hexo-renderer-marked&quot;引擎渲染网页，该引擎会把一些特殊的markdown符号转换为相应的html标签</p></blockquote><p><a name="de842a6c"></a></p><h3 id="解决方案"><a class="markdownIt-Anchor" href="#解决方案"></a> 解决方案</h3><p>解决方案有很多，可以网上搜下，为了节省大家的时间，这里只提供亲身测试过的方法。</p><p>更换Hexo的markdown渲染引擎，<a href="https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus" target="_blank" rel="noopener">hexo-renderer-markdown-it-plus</a>引擎替换默认的渲染引擎<a href="https://github.com/hexojs/hexo-renderer-marked" target="_blank" rel="noopener">hexo-renderer-marked</a>即可。</p><p><a name="4360d9a3"></a></p><h3 id="安装hexo-renderer-markdown-it-plus插件"><a class="markdownIt-Anchor" href="#安装hexo-renderer-markdown-it-plus插件"></a> 安装hexo-renderer-markdown-it-plus插件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line">npm i hexo-renderer-markdown-it-plus --save</span><br></pre></td></tr></table></figure><p><a name="224e2ccd"></a></p><h3 id="配置"><a class="markdownIt-Anchor" href="#配置"></a> 配置</h3><p>安装插件后，如果未正常渲染LaTeX数学公式，在博客配置文件<code>_config.yml</code>中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">markdown_it_plus:</span><br><span class="line">  highlight: true</span><br><span class="line">  html: true</span><br><span class="line">  xhtmlOut: true</span><br><span class="line">  breaks: true</span><br><span class="line">  langPrefix:</span><br><span class="line">  linkify: true</span><br><span class="line">  typographer:</span><br><span class="line">  quotes: “”‘’</span><br><span class="line">  plugins:</span><br><span class="line">    - plugin:</span><br><span class="line">        name: markdown-it-katex</span><br><span class="line">        enable: true</span><br><span class="line">    - plugin:</span><br><span class="line">        name: markdown-it-mark</span><br><span class="line">        enable: false</span><br></pre></td></tr></table></figure><p><a name="5c1b1f63"></a></p><h3 id="文章启用mathjax"><a class="markdownIt-Anchor" href="#文章启用mathjax"></a> 文章启用mathjax</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">title: Hello World</span><br><span class="line">mathjax: true</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a name=&quot;96c75b9e&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;特色&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#特色&quot;&gt;&lt;/a&gt; 特色&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;多语言&lt;/li&gt;
&lt;li&gt;第三方评论框（友言、来必力、gitment、
      
    
    </summary>
    
    
      <category term="博客" scheme="http://devinshi2019.github.io/categories/%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo系列" scheme="http://devinshi2019.github.io/tags/Hexo%E7%B3%BB%E5%88%97/"/>
    
      <category term="教程" scheme="http://devinshi2019.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客系列-1：搭建GithubPages + Hexo博客</title>
    <link href="http://devinshi2019.github.io/2019/11/26/yuque/Hexo%E5%8D%9A%E5%AE%A2%E7%B3%BB%E5%88%97-1%EF%BC%9A%E6%90%AD%E5%BB%BAGithubPages%20+%20Hexo%E5%8D%9A%E5%AE%A2/"/>
    <id>http://devinshi2019.github.io/2019/11/26/yuque/Hexo%E5%8D%9A%E5%AE%A2%E7%B3%BB%E5%88%97-1%EF%BC%9A%E6%90%AD%E5%BB%BAGithubPages%20+%20Hexo%E5%8D%9A%E5%AE%A2/</id>
    <published>2019-11-25T16:15:20.000Z</published>
    <updated>2021-05-27T15:02:31.383Z</updated>
    
    <content type="html"><![CDATA[<p>前言：Hexo是一款基于Node.js的简单轻量静态博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在GitHub和Coding上，是搭建博客的首选框架。<br /><a id="more"></a></p><p><a name="iIHXe"></a></p><h2 id="hexo博客搭建"><a class="markdownIt-Anchor" href="#hexo博客搭建"></a> Hexo博客搭建</h2><p><a name="qaJqT"></a></p><h3 id="安装git"><a class="markdownIt-Anchor" href="#安装git"></a> 安装Git</h3><ol><li>mac安装</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install git</span><br></pre></td></tr></table></figure><ol start="2"><li>windows安装</li></ol><p><a href="https://gitforwindows.org/" target="_blank" rel="noopener">git下载</a></p><ol start="3"><li>安装完成后验证</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure><p><a name="Qf59C"></a></p><h3 id="安装nodejs"><a class="markdownIt-Anchor" href="#安装nodejs"></a> 安装nodejs</h3><ol><li>mac安装</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install node</span><br></pre></td></tr></table></figure><ol start="2"><li>windows安装</li></ol><p><a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">nodejs地址，选择LTS版本</a></p><ol start="3"><li>安装完成后验证</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v </span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p><a name="gPwbL"></a></p><h3 id="安装hexo"><a class="markdownIt-Anchor" href="#安装hexo"></a> 安装hexo</h3><ol><li>安装hexo</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><ol start="2"><li>验证hexo</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure><ol start="3"><li>创建Hexo博客项目</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init myblog</span><br><span class="line">cd myblog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>完成后目录结构如下：</p><ul><li>node_modules: 依赖包</li><li>public：存放生成的页面</li><li>scaffolds：生成文章的一些模板</li><li>source：用来存放你的文章</li><li>themes：主题</li><li>_config.yml: 博客的配置文件</li></ul><ol start="4"><li>运行Hexo项目</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><blockquote><p>hexo的服务，在浏览器输入localhost:4000就可以看到你生成的博客了</p></blockquote><p><a name="piu63"></a></p><h2 id=""><a class="markdownIt-Anchor" href="#"></a> </h2><p><a name="maK7x"></a></p><h2 id="配置githubpages主页"><a class="markdownIt-Anchor" href="#配置githubpages主页"></a> 配置GithubPages主页</h2><p><a name="pcG9W"></a></p><h3 id="注册github账户"><a class="markdownIt-Anchor" href="#注册github账户"></a> 注册github账户</h3><p>首先，你先要有一个GitHub账户，去注册一个吧。<br />注册完登录后，在GitHub.com中看到一个New repository，新建仓库[yourname].github.io<br />点击create repository。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name "yourname"</span><br><span class="line">git config --global user.email "youremail"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 检查</span></span><br><span class="line">git config user.name</span><br><span class="line">git config user.email</span><br></pre></td></tr></table></figure><p><a name="BQqPJ"></a></p><h3 id="生成ssh"><a class="markdownIt-Anchor" href="#生成ssh"></a> 生成SSH</h3><p>执行如下命令，一直回车即可</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C "youremail"</span><br></pre></td></tr></table></figure><blockquote><p>ssh，简单来讲，就是一个秘钥，其中，id_rsa是你这台电脑的私人秘钥，不能给别人看的，id_rsa.pub是公共秘钥，可以随便给别人看。把这个公钥放在GitHub上，这样当你链接GitHub自己的账户时，它就会根据公钥匹配你的私钥，当能够相互匹配时，才能够顺利的通过git上传你的文件到GitHub上。</p></blockquote><p><a name="BYKw8"></a></p><h3 id="上传公钥到github"><a class="markdownIt-Anchor" href="#上传公钥到github"></a> 上传公钥到GitHub</h3><ol><li>在mac中找到<code>~/.ssh/id_rsa.pub</code></li><li>在GitHub的 Setting &gt; SSH and GPG keys中，找到SSH keys的设置选项，点击New SSH key</li><li>把你的id_rsa.pub里面的信息复制进去。</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2019/jpeg/264294/1574749300215-4951a6bb-34e4-4b83-803d-b0e9c19a75b0.jpeg#align=left&amp;display=inline&amp;height=1080&amp;originHeight=1080&amp;originWidth=2411&amp;size=0&amp;status=done&amp;width=2411" alt="" /></p><p><a name="aNZs8"></a></p><h3 id="验证ssh"><a class="markdownIt-Anchor" href="#验证ssh"></a> 验证SSH</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p><a name="eRl7S"></a></p><h2 id="部署hexo到github"><a class="markdownIt-Anchor" href="#部署hexo到github"></a> 部署hexo到GitHub</h2><p><a name="wKjIr"></a></p><h3 id="修改配置"><a class="markdownIt-Anchor" href="#修改配置"></a> 修改配置</h3><p>修改<code>_config.yml</code>配置如下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:YourgithubName/YourgithubName.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p><a name="dyp2W"></a></p><h2 id="安装插件"><a class="markdownIt-Anchor" href="#安装插件"></a> 安装插件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p><a name="QpBoP"></a></p><h3 id="执行同步"><a class="markdownIt-Anchor" href="#执行同步"></a> 执行同步</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p><a name="whXd4"></a></p><h2 id="设置自己的域名"><a class="markdownIt-Anchor" href="#设置自己的域名"></a> 设置自己的域名</h2><p><a name="BxlEM"></a></p><h3 id="默认访问地址如下"><a class="markdownIt-Anchor" href="#默认访问地址如下"></a> 默认访问地址如下</h3><p>[YourgithubName].github.io</p><p><a name="omhwc"></a></p><h3 id="配置github为私有域名"><a class="markdownIt-Anchor" href="#配置github为私有域名"></a> 配置GITHUB为私有域名</h3><p>在如下配置页面设置私有域名为你自己购买的域名 如:blog.heidi.pub<br /><img src="https://cdn.nlark.com/yuque/0/2019/jpeg/264294/1574749319525-5c29c261-635f-425e-983e-4c2f03690432.jpeg#align=left&amp;display=inline&amp;height=1080&amp;originHeight=1080&amp;originWidth=2105&amp;size=0&amp;status=done&amp;width=2105" alt="" /></p><p><a name="nsw6l"></a></p><h3 id="设置cname"><a class="markdownIt-Anchor" href="#设置cname"></a> 设置CNAME</h3><p>在域名后端将blog.heidi.pub 解析为 [YourgithubName].github.io</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;前言：Hexo是一款基于Node.js的简单轻量静态博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在GitHub和Coding上，是搭建博客的首选框架。&lt;br /&gt;
    
    </summary>
    
    
      <category term="博客" scheme="http://devinshi2019.github.io/categories/%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo系列" scheme="http://devinshi2019.github.io/tags/Hexo%E7%B3%BB%E5%88%97/"/>
    
      <category term="教程" scheme="http://devinshi2019.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客系列-2：增加coding发布源，绑定自己的域名，增加https访问</title>
    <link href="http://devinshi2019.github.io/2019/11/26/yuque/Hexo%E5%8D%9A%E5%AE%A2%E7%B3%BB%E5%88%97-2%EF%BC%9A%E5%A2%9E%E5%8A%A0coding%E5%8F%91%E5%B8%83%E6%BA%90%EF%BC%8C%E7%BB%91%E5%AE%9A%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%EF%BC%8C%E5%A2%9E%E5%8A%A0https%E8%AE%BF%E9%97%AE/"/>
    <id>http://devinshi2019.github.io/2019/11/26/yuque/Hexo%E5%8D%9A%E5%AE%A2%E7%B3%BB%E5%88%97-2%EF%BC%9A%E5%A2%9E%E5%8A%A0coding%E5%8F%91%E5%B8%83%E6%BA%90%EF%BC%8C%E7%BB%91%E5%AE%9A%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%EF%BC%8C%E5%A2%9E%E5%8A%A0https%E8%AE%BF%E9%97%AE/</id>
    <published>2019-11-25T16:15:20.000Z</published>
    <updated>2021-05-27T15:02:31.383Z</updated>
    
    <content type="html"><![CDATA[<p>前言：Hexo是一款基于Node.js的简单轻量静态博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在GitHub和Coding上，是搭建博客的首选框架。<br /><a id="more"></a></p><p><a name="EYCNk"></a></p><h2 id="增加coding发布源"><a class="markdownIt-Anchor" href="#增加coding发布源"></a> 增加coding发布源</h2><p>首先，去官网登陆你的coding账号，没有就注册一个，然后完善个人信息，。然后新建一个repository，项目名称就填你的用户名，选择私有，然后创建项目。</p><p><a name="AboiG"></a></p><h3 id="创建项目"><a class="markdownIt-Anchor" href="#创建项目"></a> 创建项目</h3><p>项目地址格式是 <a href="http://xn--6qqv7i2xdt95b.coding.me" target="_blank" rel="noopener">你的域名.coding.me</a></p><p><a name="53zuo"></a></p><h3 id="选择静态页面服务"><a class="markdownIt-Anchor" href="#选择静态页面服务"></a> 选择静态页面服务</h3><p>企业版界面如下<br /><img src="https://cdn.nlark.com/yuque/0/2019/jpeg/264294/1574901761377-029a06dd-f6c8-4a0e-88c7-1a4353d32509.jpeg#align=left&amp;display=inline&amp;height=1080&amp;originHeight=1080&amp;originWidth=2134&amp;size=0&amp;status=done&amp;width=2134" alt="" /></p><p><a name="NKyV2"></a></p><h3 id="配置ssh公钥"><a class="markdownIt-Anchor" href="#配置ssh公钥"></a> 配置SSH公钥</h3><p>同Github<br />首先点击右上角的头像-个人设置-SSH公钥-新增公匙-输入你自己的SSH公匙-永久有效(推荐)-确定即可。<br />如果你之前部署过github用同一个公匙是没问题的。</p><p><a name="AhlFd"></a></p><h3 id="配置hexo的_configyml"><a class="markdownIt-Anchor" href="#配置hexo的_configyml"></a> 配置hexo的_config.yml</h3><p>实例如下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Deployment</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Docs: https://hexo.io/docs/deployment.html</span></span></span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo:</span><br><span class="line">      github: git@github.com:DevinShi2019/DevinShi2019.github.io.git,master</span><br><span class="line">      coding: git@e.coding.net:sdf-system/blog-hexo.git,master</span><br></pre></td></tr></table></figure><p><a name="qWGPv"></a></p><h3 id="配置travisssh_config"><a class="markdownIt-Anchor" href="#配置travisssh_config"></a> 配置<code>.travis/ssh_config</code></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">  HostName github.com</span><br><span class="line">  User git</span><br><span class="line">  StrictHostKeyChecking no</span><br><span class="line">  IdentityFile ~/.ssh/id_rsa</span><br><span class="line">  IdentitiesOnly yes</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 我这里使用的企业版，所以域名是e.coding.net</span></span><br><span class="line">Host e.coding.net</span><br><span class="line">  HostName e.coding.net</span><br><span class="line">  User git</span><br><span class="line">  StrictHostKeyChecking no</span><br><span class="line">  IdentityFile ~/.ssh/id_rsa</span><br><span class="line">  IdentitiesOnly yes</span><br></pre></td></tr></table></figure><p><a name="SLmUx"></a></p><h3 id="发布"><a class="markdownIt-Anchor" href="#发布"></a> 发布</h3><p>配置完之后，提交代码到master分支即可</p><p><a name="prOEH"></a></p><h2 id="绑定自己的域名并申请https"><a class="markdownIt-Anchor" href="#绑定自己的域名并申请https"></a> 绑定自己的域名并申请Https</h2><p><a name="tv2fw"></a></p><h3 id="域名cname配置"><a class="markdownIt-Anchor" href="#域名cname配置"></a> 域名CNAME配置</h3><p>配置自由域名如<br /></p><ul><li>blog.sdf.heidi.pub CNAME 境外 <a href="http://devinshi2019.github.io">devinshi2019.github.io</a></li><li>blog.sdf.heidi.pub CNAME 默认 <a href="http://zfr5mu.coding-pages.com" target="_blank" rel="noopener">zfr5mu.coding-pages.com</a></li></ul><p><a name="zwZ5q"></a></p><h3 id="github配置"><a class="markdownIt-Anchor" href="#github配置"></a> Github配置</h3><p><img src="https://cdn.nlark.com/yuque/0/2019/jpeg/264294/1574865641700-d173e1bc-f6ab-4044-aee1-06aeae9612af.jpeg#align=left&amp;display=inline&amp;height=1080&amp;originHeight=1080&amp;originWidth=1561&amp;size=0&amp;status=done&amp;width=1561" alt="" /></p><blockquote><p>如需要https，需要勾上此选项，等待大概1天左右</p></blockquote><p><a name="HYbYZ"></a></p><h3 id="coding配置"><a class="markdownIt-Anchor" href="#coding配置"></a> Coding配置</h3><p>此处配置，并点击右侧操作的申请证书，完成之后如下<br /><img src="https://cdn.nlark.com/yuque/0/2019/jpeg/264294/1574840265197-53a2c333-0ebf-414d-af4d-40033dbc899d.jpeg#align=left&amp;display=inline&amp;height=604&amp;originHeight=604&amp;originWidth=3244&amp;size=0&amp;status=done&amp;width=3244" alt="" /></p><blockquote><p>如需要https，需要先禁用掉blog.sdf.heidi.pub指向github的解析，等待1个小时左右生效后，再启用</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;前言：Hexo是一款基于Node.js的简单轻量静态博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在GitHub和Coding上，是搭建博客的首选框架。&lt;br /&gt;
    
    </summary>
    
    
      <category term="博客" scheme="http://devinshi2019.github.io/categories/%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="Hexo系列" scheme="http://devinshi2019.github.io/tags/Hexo%E7%B3%BB%E5%88%97/"/>
    
      <category term="教程" scheme="http://devinshi2019.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
</feed>
